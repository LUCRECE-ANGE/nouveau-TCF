(function($){$(document).ready(function(){$('body').on('added_to_cart removed_from_cart',function(e,fragments){if(fragments){$.each(fragments,function(key,value){$(key.replace('_wd','')).replaceWith(value)})}})});$('body').on('wc_fragments_refreshed wc_fragments_loaded',function(){if(typeof wd_cart_fragments_params!=='undefined'){var wc_fragments=JSON.parse(sessionStorage.getItem(wd_cart_fragments_params.fragment_name)),cart_hash_key=wd_cart_fragments_params.cart_hash_key,cart_hash=sessionStorage.getItem(cart_hash_key),cookie_hash=Cookies.get('woocommerce_cart_hash'),cart_created=sessionStorage.getItem('wc_cart_created'),day_in_ms=(24*60*60*1000);if(cart_hash===null||cart_hash===undefined||cart_hash===''){cart_hash=''}
if(cookie_hash===null||cookie_hash===undefined||cookie_hash===''){cookie_hash=''}
if(cart_hash&&(cart_created===null||cart_created===undefined||cart_created==='')){throw 'No cart_created'}
if(cart_created){var cart_expiration=((1*cart_created)+day_in_ms),timestamp_now=(new Date()).getTime();if(cart_expiration<timestamp_now){throw 'Fragment expired'}}
if(wc_fragments&&wc_fragments['div.widget_shopping_cart_content']&&cart_hash===cookie_hash){$.each(wc_fragments,function(key,value){$(key.replace('_wd','')).replaceWith(value)})}}})})(jQuery);
jQuery(document).ready(function($){function parse_notice(message,type='error'){return xoo_el_localize.html.notice[type].replace('%s',message)}
var classReferral={'xoo-el-login-tgr':'login','xoo-el-reg-tgr':'register',}
function getReferral(className){return classReferral[className]?classReferral[className]:''}
function getFormsTrigger($container=''){var isSingle=!1;if($container.length&&$container.find('.xoo-el-section[data-section="single"]').length){isSingle=!0}
var formsTrigger={'xoo-el-sing-tgr':'single','xoo-el-login-tgr':isSingle?'single':'login','xoo-el-reg-tgr':isSingle?'single':'register','xoo-el-lostpw-tgr':'lostpw','xoo-el-resetpw-tgr':'resetpw','xoo-el-forcereg-tgr':'register','xoo-el-forcelogin-tgr':'login',}
return formsTrigger}
class Container{constructor($container){this.$container=$container;this.$tabs=$container.find('ul.xoo-el-tabs').length?$container.find('ul.xoo-el-tabs'):null;this.display=$container.hasClass('xoo-el-form-inline')?'inline':'popup';if(this.$container.attr('data-active')){this.toggleForm(this.$container.attr('data-active'))}
this.createFormsTriggerHTML();this.eventHandlers()}
createFormsTriggerHTML(){var HTML='<div style="display: none!important;">';$.each(getFormsTrigger(this.$container),function(triggerClass,type){HTML+='<span class="'+triggerClass+'"></span>'})
HTML+='</div>';this.$container.append(HTML)}
eventHandlers(){this.$container.on('submit','.xoo-el-action-form',this.submitForm.bind(this));this.$container.on('click','.xoo-el-edit-em',this.emailFieldEditClick.bind(this));$(document.body).on('xoo_el_form_submitted',this.singleFormProcess.bind(this));this.formTriggerEvent()}
emailFieldEditClick(e){this.toggleForm('single');this.$container.find('input[name="xoo-el-sing-user"]').val($(e.currentTarget).siblings('input').val()).focus().trigger('keyup')}
formTriggerEvent(){var container=this,formsTrigger=getFormsTrigger(container.$container);$.each(formsTrigger,function(triggerClass,formType){$(container.$container).on('click','.'+triggerClass,function(e){e.preventDefault();e.stopImmediatePropagation();container.toggleForm(formType,getReferral(triggerClass))})})}
toggleForm(formType,referral=''){this.$container.attr('data-active',formType);var $section=this.$container.find('.xoo-el-section[data-section="'+formType+'"]'),activeClass='xoo-el-active';if($section.length){var $sectionForm=$section.find('form');this.$container.find('.xoo-el-section').removeClass(activeClass);$section.addClass(activeClass);$section.find('.xoo-el-notice').html('').hide();$section.find('.xoo-el-action-form').show();if($sectionForm.length&&referral&&$sectionForm.find('input[name="_xoo_el_referral"]').length){$sectionForm.find('input[name="_xoo_el_referral"]').val(referral)}}
if(this.$tabs){this.$tabs.find('li').removeClass(activeClass);if(this.$tabs.find('li[data-tab="'+formType+'"]').length){this.$tabs.find('li[data-tab="'+formType+'"]').addClass(activeClass)}}
$(document.body).trigger('xoo_el_form_toggled',[formType,this,referral])}
submitForm(e){e.preventDefault();var $form=$(e.currentTarget),$button=$form.find('button[type="submit"]'),$section=$form.parents('.xoo-el-section'),buttonTxt=$button.text(),$notice=$section.find('.xoo-el-notice'),formType=$section.attr('data-section'),container=this;$button.html(xoo_el_localize.html.spinner).addClass('xoo-el-processing');var form_data=new FormData($form[0]);form_data.append('action','xoo_el_form_action');form_data.append('display',container.display);$.ajax({url:xoo_el_localize.adminurl,type:'POST',processData:!1,contentType:!1,cache:!1,enctype:'multipart/form-data',data:form_data,complete:function(xhr,status){$button.removeClass('xoo-el-processing').html(buttonTxt);if((status!=='success'||!xhr.responseJSON||xhr.responseJSON.error===undefined)){if(xoo_el_localize.errorLog==='yes'){$notice.html(parse_notice("Plugin did not receive expected response. The action might not be completed. Some other plugin or code on your site is interferring with the plugin's functionality. Temporarily deactivate all other plugins to further confirm. To disable this message uncheck \"error log\" option from the settings . ",'error')).show()}else{location.reload()}}},success:function(response){if(response.error===undefined){console.log(response);return}
if(response.notice){$notice.html(response.notice).show();if(container.display==='inline'){$('html, body').animate({scrollTop:$notice.offset().top-100},500)}}
if(response.error===0){if(response.redirect){setTimeout(function(){window.location=response.redirect},xoo_el_localize.redirectDelay)}else{$form.hide()}
$form.trigger('reset');if(formType==='resetpw'){$form.add('.xoo-el-resetpw-hnotice').remove()}}
$(document.body).trigger('xoo_el_form_submitted',[response,$form,container])}})}
singleFormProcess(e,response,$form,container){if(this!==container)return;if(response.field){var $field=this.$container.find(response.field);if($field.length){this.toggleForm($field.closest('.xoo-el-section').attr('data-section'));$field.closest('form').show();$field.val(response.fieldValue);$field.closest('.xoo-el-section').find('.xoo-el-notice').html(response.notice).show();var $fieldCont=$field.closest('.xoo-aff-group');if(!$fieldCont.find('.xoo-el-edit-em').length){$fieldCont.addClass('xoo-el-block-edit');$(xoo_el_localize.html.editField).insertAfter($field)}}}}}
class Popup{constructor($popup){this.$popup=$popup;this.eventHandlers()}
eventHandlers(){this.$popup.on('click','.xoo-el-close, .xoo-el-modal, .xoo-el-opac',this.closeOnClick.bind(this));$(document.body).on('xoo_el_form_submitted',this.onFormSubmitSuccess.bind(this));this.$popup.on('click','.xoo-el-action-btn',this.setScrollBarOnSubmit.bind(this));$(window).on('hashchange load',this.openViaHash.bind(this));this.triggerPopupOnClick();if(xoo_el_localize.checkout&&xoo_el_localize.checkout.loginEnabled==='yes'){$('body').on('click','.wc-block-checkout__login-prompt, .wc-block-must-login-prompt',this.checkoutPageLinkClick.bind(this))}}
checkoutPageLinkClick(e){e.preventDefault();$(e.currentTarget).attr('data-redirect',xoo_el_localize.checkout.loginRedirect).addClass('xoo-el-login-tgr').trigger('click')}
triggerPopupOnClick(){$.each(getFormsTrigger(this.$popup),function(triggerClass,formType){$(document.body).on('click','.'+triggerClass,function(e){if($(this).parents('.xoo-el-form-container').length)return!0;e.preventDefault();e.stopImmediatePropagation();popup.toggle('show');if($(this).attr('data-redirect')){popup.$popup.find('input[name="xoo_el_redirect"]').val($(this).attr('data-redirect'))}
popup.$popup.find('.'+triggerClass).trigger('click');return!1})})}
toggle(type){var $els=this.$popup.add('body'),activeClass='xoo-el-popup-active';if(type==='show'){$els.addClass(activeClass)}else if(type==='hide'){$els.removeClass(activeClass)}else{$els.toggleClass(activeClass)}
$(document.body).trigger('xoo_el_popup_toggled',[type])}
closeOnClick(e){var elClassList=e.target.classList;if(elClassList.contains('xoo-el-close')||elClassList.contains('xoo-el-modal')||elClassList.contains('xoo-el-opac')){this.toggle('hide')}}
setScrollbarPosition(position){this.$popup.find('.xoo-el-srcont').scrollTop=position||0}
onFormSubmitSuccess(e,response,$form,container){this.setScrollbarPosition()}
setScrollBarOnSubmit(e){var invalid_els=$(e.currentTarget).closest('form').find('input:invalid');if(invalid_els.length===0)return;this.setScrollbarPosition(invalid_els.filter(":first").closest('.xoo-aff-group').position().top)}
openViaHash(){var hash=$(location).attr('hash');if(hash==='#login'||hash==='#register'){this.toggle('show');var uri=window.location.toString(),clean_uri=uri.substring(0,uri.indexOf("#"));window.history.replaceState({},document.title,clean_uri)}
if(hash==='#login'){this.$popup.find('.xoo-el-login-tgr').trigger('click')}else if(hash==='#register'){this.$popup.find('.xoo-el-reg-tgr').trigger('click')}}}
class Form{constructor($form){this.$form=$form}
eventHandlers(){}}
var popup=null;if($('.xoo-el-container').length){popup=new Popup($('.xoo-el-container'))}
if(xoo_el_localize.autoOpenPopup==='yes'&&localStorage.getItem("xoo_el_popup_opened")!=="yes"){if(xoo_el_localize.autoOpenPopupOnce==="yes"){localStorage.setItem("xoo_el_popup_opened","yes")}
setTimeout(function(){popup.toggle('show')},xoo_el_localize.aoDelay)}
$('.xoo-el-form-container').each(function(key,el){new Container($(el))})
if($('form.xoo-el-form-resetpw').length){if($('.xoo-el-form-inline').length){$([document.documentElement,document.body]).animate({scrollTop:$(".xoo-el-form-inline").offset().top},500)}else{if(popup){popup.toggle('show')}}}
if($('body.woocommerce-checkout').length&&$('.xoo-el-form-inline').length&&$('a.showlogin').length){var $inlineForm=$('.xoo-el-form-inline');$inlineForm.hide();$(document.body).on('click','a.showlogin',function(){$inlineForm.slideToggle();$inlineForm.find('.xoo-el-login-tgr').trigger('click')})}
if(xoo_el_localize.loginClass&&$('.'+xoo_el_localize.loginClass).length){$('body:not(.logged-in) .'+xoo_el_localize.loginClass).on('click',function(e){e.preventDefault();e.stopImmediatePropagation();$('.xoo-el-login-tgr').trigger('click')})}
if(xoo_el_localize.registerClass&&$('.'+xoo_el_localize.registerClass).length){$('body:not(.logged-in) .'+xoo_el_localize.registerClass).on('click',function(e){e.preventDefault();e.stopImmediatePropagation();$('.xoo-el-reg-tgr').trigger('click')})}});
/*! This file is auto-generated */
(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{actions:()=>P,addAction:()=>A,addFilter:()=>m,applyFilters:()=>w,applyFiltersAsync:()=>I,createHooks:()=>h,currentAction:()=>x,currentFilter:()=>T,defaultHooks:()=>f,didAction:()=>j,didFilter:()=>z,doAction:()=>g,doActionAsync:()=>k,doingAction:()=>O,doingFilter:()=>S,filters:()=>Z,hasAction:()=>_,hasFilter:()=>v,removeAction:()=>p,removeAllActions:()=>F,removeAllFilters:()=>b,removeFilter:()=>y});const n=function(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)};const r=function(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)};const o=function(t,e){return function(o,i,s,c=10){const l=t[e];if(!r(o))return;if(!n(i))return;if("function"!=typeof s)return void console.error("The hook callback must be a function.");if("number"!=typeof c)return void console.error("If specified, the hook priority must be a number.");const a={callback:s,priority:c,namespace:i};if(l[o]){const t=l[o].handlers;let e;for(e=t.length;e>0&&!(c>=t[e-1].priority);e--);e===t.length?t[e]=a:t.splice(e,0,a),l.__current.forEach((t=>{t.name===o&&t.currentIndex>=e&&t.currentIndex++}))}else l[o]={handlers:[a],runs:0};"hookAdded"!==o&&t.doAction("hookAdded",o,i,s,c)}};const i=function(t,e,o=!1){return function(i,s){const c=t[e];if(!r(i))return;if(!o&&!n(s))return;if(!c[i])return 0;let l=0;if(o)l=c[i].handlers.length,c[i]={runs:c[i].runs,handlers:[]};else{const t=c[i].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===s&&(t.splice(e,1),l++,c.__current.forEach((t=>{t.name===i&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==i&&t.doAction("hookRemoved",i,s),l}};const s=function(t,e){return function(n,r){const o=t[e];return void 0!==r?n in o&&o[n].handlers.some((t=>t.namespace===r)):n in o}};const c=function(t,e,n,r){return function(o,...i){const s=t[e];s[o]||(s[o]={handlers:[],runs:0}),s[o].runs++;const c=s[o].handlers;if(!c||!c.length)return n?i[0]:void 0;const l={name:o,currentIndex:0};return(r?async function(){try{s.__current.add(l);let t=n?i[0]:void 0;for(;l.currentIndex<c.length;){const e=c[l.currentIndex];t=await e.callback.apply(null,i),n&&(i[0]=t),l.currentIndex++}return n?t:void 0}finally{s.__current.delete(l)}}:function(){try{s.__current.add(l);let t=n?i[0]:void 0;for(;l.currentIndex<c.length;){t=c[l.currentIndex].callback.apply(null,i),n&&(i[0]=t),l.currentIndex++}return n?t:void 0}finally{s.__current.delete(l)}})()}};const l=function(t,e){return function(){var n;const r=t[e],o=Array.from(r.__current);return null!==(n=o.at(-1)?.name)&&void 0!==n?n:null}};const a=function(t,e){return function(n){const r=t[e];return void 0===n?r.__current.size>0:Array.from(r.__current).some((t=>t.name===n))}};const u=function(t,e){return function(n){const o=t[e];if(r(n))return o[n]&&o[n].runs?o[n].runs:0}};class d{constructor(){this.actions=Object.create(null),this.actions.__current=new Set,this.filters=Object.create(null),this.filters.__current=new Set,this.addAction=o(this,"actions"),this.addFilter=o(this,"filters"),this.removeAction=i(this,"actions"),this.removeFilter=i(this,"filters"),this.hasAction=s(this,"actions"),this.hasFilter=s(this,"filters"),this.removeAllActions=i(this,"actions",!0),this.removeAllFilters=i(this,"filters",!0),this.doAction=c(this,"actions",!1,!1),this.doActionAsync=c(this,"actions",!1,!0),this.applyFilters=c(this,"filters",!0,!1),this.applyFiltersAsync=c(this,"filters",!0,!0),this.currentAction=l(this,"actions"),this.currentFilter=l(this,"filters"),this.doingAction=a(this,"actions"),this.doingFilter=a(this,"filters"),this.didAction=u(this,"actions"),this.didFilter=u(this,"filters")}}const h=function(){return new d},f=h(),{addAction:A,addFilter:m,removeAction:p,removeFilter:y,hasAction:_,hasFilter:v,removeAllActions:F,removeAllFilters:b,doAction:g,doActionAsync:k,applyFilters:w,applyFiltersAsync:I,currentAction:x,currentFilter:T,doingAction:O,doingFilter:S,didAction:j,didFilter:z,actions:P,filters:Z}=f;(window.wp=window.wp||{}).hooks=e})();;